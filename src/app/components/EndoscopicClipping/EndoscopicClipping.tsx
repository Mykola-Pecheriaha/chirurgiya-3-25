'use client';
import { useState } from 'react';
import styles from '../shared/ProcedureComponent.module.css';
import { ClippingGallery } from '../../components/EndoscopicClipping/ClippingGallery';
import { SimpleButton } from '../../components/ui/simple-button';

interface EndoscopicClippingProps {
  backgroundColor?: string;
}

export function EndoscopicClipping({
  backgroundColor = '#f8f9fa',
}: EndoscopicClippingProps) {
  const [isExpanded, setIsExpanded] = useState(false);

  const toggleExpand = () => {
    setIsExpanded(!isExpanded);
  };

  return (
    <section className={styles.procedureSection} style={{ backgroundColor }}>
      <div className={styles.container}>
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –≤—Å—Ç—É–ø */}
        <h2 className={styles.mainTitle}>
          üõ†Ô∏è –ï–Ω–¥–æ—Å–∫–æ–ø—ñ—á–Ω–µ –∫–ª—ñ–ø—É–≤–∞–Ω–Ω—è / –ó—É–ø–∏–Ω–∫–∞ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ
        </h2>
        <div className={styles.contentBlock}>
          <p className={styles.text}>
            –ï–Ω–¥–æ—Å–∫–æ–ø—ñ—á–Ω–µ –∫–ª—ñ–ø—É–≤–∞–Ω–Ω—è (–µ–Ω–¥–æ–∫–ª—ñ–ø—É–≤–∞–Ω–Ω—è) ‚Äî —Ü–µ —Å—É—á–∞—Å–Ω–∏–π,
            –≤–∏—Å–æ–∫–æ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥ –º–µ—Ö–∞–Ω—ñ—á–Ω–æ—ó –∑—É–ø–∏–Ω–∫–∏ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ ü©∏ –≤ –æ—Ä–≥–∞–Ω–∞—Ö
            —à–ª—É–Ω–∫–æ–≤–æ-–∫–∏—à–∫–æ–≤–æ–≥–æ —Ç—Ä–∞–∫—Ç—É.
          </p>
          <p className={styles.text}>
            üîç –ú–µ—Ç–æ–¥ –ø–æ–ª—è–≥–∞—î —É —Ç–æ—á–∫–æ–≤–æ–º—É –Ω–∞–∫–ª–∞–¥–∞–Ω–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—ó –º–µ—Ç–∞–ª–µ–≤–æ—ó –∫–ª—ñ–ø—Å–∏
            üß∑ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –º—ñ—Å—Ü—ñ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ, –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ ‚Äî –Ω–∞ —Ñ–æ–Ω—ñ –≤–∏—Ä–∞–∑–∫–æ–≤–æ–≥–æ
            –¥–µ—Ñ–µ–∫—Ç—É —Å–ª–∏–∑–æ–≤–æ—ó.
          </p>
        </div>

        {/* –î–≤–æ–∫–æ–ª–æ–Ω–∫–æ–≤–∏–π —Ä–æ–∑–¥—ñ–ª: —Ç–µ–∫—Å—Ç —ñ –≥–∞–ª–µ—Ä–µ—è */}
        <div className={styles.twoColumnSection}>
          <div className={styles.textColumn}>
            <div className={styles.contentBlock}>
              <div
                className={`${styles.collapsibleText} ${isExpanded ? styles.expanded : ''}`}
              >
                {isExpanded ? (
                  // –ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç
                  <>
                    <h3 className={styles.subTitle}>üìå –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?</h3>
                    <p className={styles.text}>
                      –ß–µ—Ä–µ–∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –∫–∞–Ω–∞–ª –µ–Ω–¥–æ—Å–∫–æ–ø–∞ –ª—ñ–∫–∞—Ä –ø—Ä–æ–≤–æ–¥–∏—Ç—å
                      –∫–ª—ñ–ø–∞—Ç–æ—Ä, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è–∫–æ–≥–æ –Ω–∞–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∫–ª—ñ–ø—Å–∞, —â–æ
                      –Ω–∞–¥—ñ–π–Ω–æ —Ñ—ñ–∫—Å—É—î—Ç—å—Å—è –≤ –¥—ñ–ª—è–Ω—Ü—ñ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ üõ°Ô∏è. –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥
                      –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–æ –∑—É–ø–∏–Ω–∏—Ç–∏ –∫—Ä–æ–≤–æ–≤—Ç—Ä–∞—Ç—É –Ω–∞–≤—ñ—Ç—å —É
                      —Å–∫–ª–∞–¥–Ω–∏—Ö –∫–ª—ñ–Ω—ñ—á–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö.
                    </p>
                    <p className={styles.text}>
                      –ï–Ω–¥–æ—Å–∫–æ–ø—ñ—á–Ω–µ –∑—É–ø–∏–Ω–µ–Ω–Ω—è –∫—Ä–æ–≤–æ—Ç–µ—á—ñ –ø—Ä–∏ –§–ì–î–° –º–µ—Ç–æ–¥–æ–º
                      –∞—Ä–≥–æ–Ω–Ω–æ-–ø–ª–∞–∑–º–µ–Ω–Ω–æ—ó –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó.
                    </p>

                    <h3 className={styles.subTitle}>
                      ‚úÖ –ú–µ—Ç–æ–¥ –µ–Ω–¥–æ–∫–ª—ñ–ø—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è:
                    </h3>
                    <ul className={styles.bulletList}>
                      <li>–ü—Ä–∏ —à–ª—É–Ω–∫–æ–≤–æ-–∫–∏—à–∫–æ–≤–∏—Ö –∫—Ä–æ–≤–æ—Ç–µ—á–∞—Ö;</li>
                      <li>–î–ª—è –∑—É–ø–∏–Ω–∫–∏ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ –∑ –≤–∏—Ä–∞–∑–æ–∫;</li>
                      <li>–£ –≤–∏–ø–∞–¥–∫–∞—Ö –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è —Å—É–¥–∏–Ω —Å–ª–∏–∑–æ–≤–æ—ó –æ–±–æ–ª–æ–Ω–∫–∏.</li>
                    </ul>

                    <h3 className={styles.subTitle}>
                      ü©∫ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –ø—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –µ–Ω–¥–æ—Å–∫–æ–ø–∞, —â–æ
                      –¥–æ–∑–≤–æ–ª—è—î:
                    </h3>
                    <ul className={styles.bulletList}>
                      <li>–¢–æ—á–Ω–æ –≤—ñ–∑—É–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º—ñ—Å—Ü–µ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ;</li>
                      <li>
                        –û—Ü—ñ–Ω–∏—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑—É–ø–∏–Ω–∫–∏ –∫—Ä–æ–≤—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ;
                      </li>
                      <li>
                        –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ –≤—Ç—Ä—É—á–∞–Ω–Ω—è —ñ —à–≤–∏–¥–∫–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
                        –ø–∞—Ü—ñ—î–Ω—Ç–∞ üí™.
                      </li>
                      <li>
                        –ú–µ—Ç–æ–¥ –∞—Ä–≥–æ–Ω–Ω–æ-–ø–ª–∞–∑–º–µ–Ω–Ω–æ—ó –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –Ω–∞
                        —Ä—ñ–≤–Ω—ñ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º.
                      </li>
                    </ul>
                    <p className={styles.text}>
                      –í–∏–±—ñ—Ä –º–µ—Ç–æ–¥–∞ –∑—É–ø–∏–Ω–∫–∏ –∫—Ä–æ–≤–æ—Ç–µ—á—ñ –≤–∏—Ä—ñ—à—É—î –µ–Ω–¥–æ—Å–∫–æ–ø—ñ—Å—Ç –ø—Ä–∏
                      –æ–≥–ª—è–¥—ñ –¥–∂–µ—Ä–µ–ª–∞ –≥–µ–º–æ—Ä—Ä–∞–≥—ñ—ó.
                    </p>
                  </>
                ) : (
                  // –û–±–º–µ–∂–µ–Ω–∏–π —Ç–µ–∫—Å—Ç (100 –∑–Ω–∞–∫—ñ–≤)
                  <p className={styles.text}>
                    üìå –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?
                    <br />
                    –ß–µ—Ä–µ–∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –∫–∞–Ω–∞–ª –µ–Ω–¥–æ—Å–∫–æ–ø–∞ –ª—ñ–∫–∞—Ä –ø—Ä–æ–≤–æ–¥–∏—Ç—å
                    –∫–ª—ñ–ø–∞—Ç–æ—Ä...
                  </p>
                )}
              </div>

              <SimpleButton
                onClick={toggleExpand}
                variant="outline"
                className={styles.expandButton}
              >
                {isExpanded ? '–ó–≥–æ—Ä–Ω—É—Ç–∏' : '–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏'}
              </SimpleButton>
            </div>
          </div>

          <div className={styles.galleryColumn}>
            <ClippingGallery />
          </div>
        </div>
      </div>
    </section>
  );
}

export default EndoscopicClipping;
