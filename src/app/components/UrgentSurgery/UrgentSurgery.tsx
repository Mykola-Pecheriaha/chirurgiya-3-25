'use client';

import type React from 'react';
import Image from 'next/image';
import styles from './UrgentSurgery.module.css';
import Link from 'next/link';

interface UrgentCondition {
  id: string;
  title: string;
  description: string;
  imageUrl?: string;
  imageAlt?: string;
}

interface UrgentSurgeryProps {
  backgroundColor?: string;
  conditions?: UrgentCondition[];
}

// Дані про ургентні стани
const defaultConditions: UrgentCondition[] = [
  {
    id: 'intro',
    title: 'Ургентні стани',
    description:
      'Це стани які можуть виникати практично на фоні "повного здоров\'я" і якщо щвидко не звернутися до лікаря, який надасть допомогу, можуть привести до смерті пацієнта.',
  },
  {
    id: 'appendicitis',
    title: 'Гострий апендицит',
    description:
      'Біль у правій нижній частині живота, ближче до паху.Спочатку може виникати у верхній ділянці живота, супроводжуючись нудотою чи блювотою, але згодом зміщується вниз праворуч. Біль не минає самостійно: спочатку постійний, а потім може трохи слабшати, що не означає покращення стану. Це свідчить про перехід хвороби на наступну стадію, наближаючи небезпечні ускладнення, зокрема перитоніт.\n⚠ Терміново зверніться до лікаря!',
    imageUrl: '/images/urgentSurgery/apendezit.jpg',
    imageAlt: 'Гострий апендицит',
  },
  {
    id: 'cholecystitis',
    title: 'Гострий холецистит',
    description:
      'Біль в правому підребіррі. Може бути досить нестерпні у вигляді коліки - "печінкова колька." Виникає чаще всього після порушені в харчувані (жирна і жарена їжа). Практично постійно біль супроводжується нудотою і блювотою. Біль може мати приступоподібний характер.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/cholez.jpg',
    imageAlt: 'Гострий холецистит',
  },
  {
    id: 'pancreatitis',
    title: 'Гострий панкреатит',
    description:
      'Біль в верхній частині живота "оперізуючого" характера. Може бути досить нестерпні по типу "забитого килка". Виникає чаще всього після порушені в харчувані (жирна і жарена їжа) і прийому алкоголя. Практично постійно біль супроводжується нудотою і блювотою, яка може мати харектер "невгамонної", тобто блювота яка не припиняється даже якщо порожній шлунок і "блювати вже нема чим".\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/pancreat.jpg',
    imageAlt: 'Гострий панкреатит',
  },
  {
    id: 'peritonitis',
    title: 'Перитоніт',
    description:
      'Біль по всьому животу. Живіт стає напружений і часто "як доска". Хворий не може дихнути за "рахунок живота". Постійно є нудота і блювота. Як правело такий стан виникає як продовження правктично всіх невідкладних стані пов\'язаний з органами черевної порожнини. Це практично слідуюча дость стадія перебігу їх захворювання. Ризик для життя дуже значно підвищується даже при умові лікування.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/peritonit.jpg',
    imageAlt: 'Перитоніт',
  },
  {
    id: 'bleeding',
    title: 'Гостра шлунково-кишкова кровотеча',
    description:
      'Клінічна картина шлунково-кишкової-кровотечі, які б захворювання не привели до неї, мають практично одинакові симптоми і одинаковий перебіг. Несподівано виникає слабкість та порушення зору - потемніння та "бігання мурашок перед очима". Виникає блювота у вигляді "кавової гущі". Згодом виникає понос "мелена", абсолютно чорного кольору з дуже "специфічним дурним запахом". Кровотеча завжди, якщо її не зупинити, приводить до смертельного фінішу.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/gemo.jpg',
    imageAlt: 'Гостра шлунково-кишкова кровотеча',
  },
  {
    id: 'hernia',
    title: 'Защемлені грижі',
    description:
      'Грижеве випинання, про яке хворий знає що в нього воно є, перстало вправлятися і почало дуже боліти. Біль чаще досить сильна. Цей стан може супроводжуватися нудотою і блювото. Дуже важливо щоб хворий чим скоріше звернувся за медичною допомогою. Зашемлюватися може любий орган з черевної порожнини. Частіше це чепець або кишкивник. У випадку защемлення кишкивника, якщо защемлення триває довго (більше 6 годин) виникає омертвіння стінки його (некроз) і кишковий вміст виливається в черевну порожнину. Виникає її запалення - перетоні. Це дуже небезпечне ускладнення яке досить часто приводить до фатального кінця даже при його лікуванні. Зашемлені діафрагмальні грижі виникають рідко і їх діагностика чиризвичайно важка. Симтоми болю і напрохідності такіж як і при зичайні грижі, однак невидно випинання.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/gernio1.jpg',
    imageAlt: 'Защемлені грижі',
  },
  {
    id: 'obstruction',
    title: 'Гостра кишкова непрохідність',
    description:
      'Форми кишкової непрохідності є різні, але клінічна картина їх практично однотипна. Захворювання починається з відсутності стула та відходження газів. Згодом з\'являється роздутість живота і біль в животі. Однак непрохідність "механічна", яка виникає при спайкових процесів в черевні порожнині, защемлення кишкивника в грижовомі мішку та інвагінації, захворювання починається з болю. Згодом приєднується нудота і блювота. Є такий вислів "чим більше хворий з механічною кишковою непрохідністю живе до операції, тим менше він жеве після операції". Хворий має бути доправлений в медичний заклад.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/ilius.jpg',
    imageAlt: 'Гостра кишкова непрохідність',
  },
  {
    id: 'perforation',
    title:
      'Перфоративна виразка шлунку чи ДПК або інши порожнистих органів черевної порожнини',
    description:
      'Дуже різький біль в животі з реакцією м\'язів живота (вони стають як дошка напружені), повинні дуже насторожити хворого і оточуючих хворого людей, щод невідкладно переправити його до лікувального закладу. В перші хвилини при перфоративні виразці хворий неможе дихнути, настільки виражена реакція на подразненя очеревини вмістом шлунка і ДПК(враховуючи їх кислотність). Практично "обпалює" очеревину. Згодом більдещо вшухає, однак стан хворого дедалі погіршується із за розвитку переоніта (запалення очеревини). При відсутності мидичної допомого, досить швидко настає фатальний результат.\nТреба негайно звернутися до лікаря.',
    imageUrl: '/images/urgentSurgery/ulzer.jpg',
    imageAlt: 'Перфоративна виразка шлунку',
  },
  {
    id: 'infection',
    title: 'Гострі гнійно-некротичні захворювання',
    description:
      "Флегмони різних локалізацій та росповсюдження також можуть привести до досить серйозних наслідків для зоров'я хворого та його життя. Тому при винекнення такого захворювання треба також негайно звертатися до лікаря. Клінічна картина це припухлість та почервоніння і біль в ділянці ураження, підвищення температури тіла і порушення функції.\nТреба негайно звернутися до лікаря.",
    imageUrl: '/images/urgentSurgery/flegmona.jpg',
    imageAlt: 'Гострі гнійно-некротичні захворювання',
  },
];

const UrgentSurgery: React.FC<UrgentSurgeryProps> = ({
  backgroundColor = '#f0f7ff',
  conditions = defaultConditions,
}) => {
  // Відокремлюємо перший елемент (загальний опис) від решти умов
  const introCondition = conditions[0];
  const detailedConditions = conditions.slice(1);

  // Функція для перевірки, чи є текст попередженням
  const isWarningText = (text: string) => {
    return (
      text.includes('Треба негайно звернутися до лікаря') ||
      text.includes('Терміново зверніться до лікаря') ||
      text.includes('⚠')
    );
  };

  return (
    <div className={styles.wrapper} style={{ backgroundColor }}>
      <div className={styles.container}>
        <h2 className={styles.title}>Ургентна хірургія</h2>

        <div className={styles.description}>
          <p>
            Ургентна хірургія є особливим розділом медицини, де кожна хвилина
            має значення. У критичних ситуаціях важливо швидко поставити діагноз
            і визначити тактику лікування. Для цього необхідна злагоджена робота
            команди хірургів і діагностичних служб. Наші спеціалісти готові
            прийняти виклик і врятувати життя.
          </p>
        </div>

        {/* Загальний опис ургентних станів (по центру) */}
        <div className={styles.introCard}>
          <h3 className={styles.introTitle}>{introCondition.title}</h3>
          <p className={styles.introDescription}>
            {introCondition.description}
          </p>
        </div>

        {/* Детальні описи ургентних станів з зображеннями */}
        <div className={styles.conditionsContainer}>
          {detailedConditions.map((condition) => (
            <div key={condition.id} className={styles.conditionCard}>
              <div className={styles.conditionContent}>
                <h3 className={styles.conditionTitle}>{condition.title}</h3>
                <div className={styles.conditionDescription}>
                  {condition.description.split('\n').map((paragraph, idx) => (
                    <p
                      key={idx}
                      className={
                        isWarningText(paragraph) ? styles.warningText : ''
                      }
                    >
                      {paragraph}
                    </p>
                  ))}
                </div>
              </div>
              <div className={styles.conditionImageContainer}>
                <Image
                  src={
                    condition.imageUrl ||
                    '/placeholder.svg?height=300&width=400' ||
                    '/placeholder.svg'
                  }
                  alt={condition.imageAlt || condition.title}
                  width={400}
                  height={300}
                  className={styles.conditionImage}
                  onError={(e) => {
                    e.currentTarget.src =
                      '/placeholder.svg?height=300&width=400';
                  }}
                />
              </div>
            </div>
          ))}
        </div>

        {/* Заклик до дії */}
        <div className={styles.ctaSection}>
          <p className={styles.ctaText}>
            Маєте додаткові запитання? Наші спеціалісти готові надати вам
            детальну консультацію.
          </p>
          <Link href="/about-doctor/contacts">
            <button className={styles.contactButton}>
              Зв&apos;язатися з нами
            </button>
          </Link>
        </div>
      </div>
    </div>
  );
};

export default UrgentSurgery;
